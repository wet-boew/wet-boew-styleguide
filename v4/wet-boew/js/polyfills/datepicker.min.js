/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v4.0.19-development - 2015-11-17
 *
 */
!function(a,b,c,d){"use strict";var e,f,g,h="wb-date",i="input[type=date]",j="wb-init."+h,k="setfocus.wb",l="wb-picker",m=new Date,n=m.getMonth(),o=m.getFullYear(),p="YYYY-MM-DD",q=!1,r=d.doc,s=function(b){var c,j,k,m=d.init(b,h,i);if(m){if(c=m.id,-1!==m.className.indexOf("picker-field"))return;f||(e=d.i18n,k=e("space").replace("&#32;"," ").replace("&#178;",""),f={show:e("date-show").replace("\\'","'")+k,selected:e("date-sel").replace("\\'","'"),close:e("close")+e("colon").replace("&#160;"," ")+k+e("cal").toLowerCase()+k+e("esc-key").replace("\\'","'")}),m.className+=" picker-field",g||(g=a("<div id='"+l+"' class='picker-overlay' role='dialog' aria-hidden='true'></div>"),j=f.close,a("<button type='button' class='picker-close mfp-close overlay-close' title=\""+j+"\">&#xd7;<span class='wb-inv'> "+j+"</span></button>").appendTo(g).on("click",function(a){var b=a.which;b&&1!==b||(a.stopPropagation?a.stopImmediatePropagation():a.cancelBubble=!0,w(g.attr("aria-controls")))}),g.find("a").attr("tabindex","-1"),a("main").after(g)),c&&t(c),d.ready(a(m),h),q=!0}},t=function(b){var c=a("label").filter("[for='"+b+"']").clone().find(".datepicker-format").remove().end().text(),d=f.show+c,e="<a href='javascript:;' button id='"+b+"-picker-toggle' class='picker-toggle' href='javascript:;' title=\""+d+"\"><span class='glyphicon glyphicon-calendar'></span><span class='wb-inv'>"+d+"</span></a>";a("#"+b).wrap("<span class='wb-date-wrap'/>").after(e),g.slideUp(0)},u=function(a,b,e,f){var g,h,i,j,k,l,m=c.getElementById(a),n=m.getAttribute("min"),o=m.getAttribute("max"),p=d.date.fromDateISO,q=f.length;for(n=p(n?n:"1800-01-01"),i=n.getDate()-1,o=p(o?o:"2100-01-01"),j=o.getDate(),g=b===n.getFullYear()&&e===n.getMonth(),h=b===o.getFullYear()&&e===o.getMonth(),k=0;k!==q;k+=1)(!g&&!h||g&&k>=i||h&&j>k)&&(l=f[k],l.innerHTML="<a href='javascript:;' tabindex='-1'>"+l.getElementsByTagName("div")[0].innerHTML+"</a>");f.find("a").eq(0).attr("tabindex","0")},v=function(b,d,e,g){var h,i;a(g).removeClass("picker-sel").find(".picker-sel-text").detach(),h=c.getElementById(b).value;try{""!==h&&(i=new Date(h),i.getUTCFullYear()===d&&i.getUTCMonth()===e&&a(g[i.getUTCDate()-1]).addClass("picker-sel").children("a").attr("aria-selected","true").append("<span class='wb-inv picker-sel-text'> ["+f.selected+"]</span>"))}catch(j){}},w=function(b){var e,h=c.getElementById(b),i=a(h),j=h.getAttribute("min"),m=h.getAttribute("max"),p=d.date.fromDateISO,q=p(h.value);j||(j="1800-01-01"),m||(m="2100-01-01"),r.trigger("create.wb-cal",[l,o,n,!0,j,m,void 0,b,b+"-picker-toggle"]),i.after(g),"false"!==g.attr("aria-hidden")?(e=f.close,x(b),g.slideDown("fast").attr("aria-hidden","false"),a("#"+b+"-picker-toggle").attr("title",e).children(".wb-inv").text(e),null!==q?(q.setDate(q.getDate()+1),r.trigger("setFocus.wb-cal",[l,o,n,p(j),p(m),q])):a("#"+l).trigger(k)):(y(b),i.trigger(k))},x=function(b){var c,d,e=a(".picker-field").get(),f=e.length;for(c=0;c!==f;c+=1)d=e[c].id,d!==b&&y(d)},y=function(b){var c=a("#"+b+"-picker-toggle"),d=f.show+a("label[for="+b+"]").clone().find(".datepicker-format").remove().end().text();g.slideUp("fast").attr("aria-hidden","true").trigger("hideGoToFrm.wb-cal"),c.attr("title",d.replace("&#32;"," ")).children(".wb-inv").html(d)},z=function(a,b,c,e){var f=d.string.pad;return e.replace("DD",f(c,2)).replace("D",c).replace("MM",f(b,2)).replace("M",b).replace("YYYY",a).replace("YY",a.toString().substr(2,2))};r.on("timerpoke.wb "+j,i,s),r.on("click vclick touchstart focusin",function(b){var d,e=b.which;return!q||e&&1!==e||(d=c.getElementById(l),null===d||"false"!==d.getAttribute("aria-hidden")||b.target.id===d.id||a.contains(d,b.target))?void 0:(y(d.getAttribute("aria-controls")),!1)}),r.on("keydown displayed.wb-cal","#"+l,function(b,c,d,e,f){var g=a(this),h=b.type,i=b.which,j=g.attr("aria-controls");switch(h){case"keydown":27===i&&(x(),a("#"+j).trigger(k));break;case"displayed":"wb-cal"===b.namespace&&(u(j,c,d,e),v(j,c,d,e),(f?g.find(".cal-index-"+f+" a"):g).trigger(k));break;case"click":case"vclick":case"touchstart":case"focusin":g.attr("aria-hidden")===!1&&(i&&1!==i||(b.stopPropagation?b.stopImmediatePropagation():b.cancelBubble=!0))}}),r.on("click",".picker-toggle",function(a){a.preventDefault();var b,c=a.which;return c&&1!==c?void 0:(b=this.id,w(b.substring(0,b.indexOf("-picker-toggle"))),!1)}),r.on("click",".cal-days a",function(b){var e,f,g,h,i,j,k=b.which;return k&&1!==k?void 0:(e=c.getElementById(l).getAttribute("aria-controls"),f=d.date.fromDateISO(this.getElementsByTagName("time")[0].getAttribute("datetime")),g=f.getFullYear(),h=f.getMonth(),i=f.getDate(),j=a("#"+e),j.val(z(g,h+1,i,p)),v(e,g,h,i),w(e),!1)}),d.add(i)}(jQuery,window,document,wb);
//# sourceMappingURL=datepicker.min.js.map